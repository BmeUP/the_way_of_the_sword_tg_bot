# Инструкция по использованию бота.


## 1. Запуск контейнеров
 * Создать файл .env в ci/docker и заполнить его по примеру файла .env.dist
 * Последовательно выполнить команды make up-d, make create-admin, make set-webhook


 ## 2. Работа бота для обычного пользователя
  * При первом попадании в бот юзер нажимает кнопку start
  * Бот собирает всю доступную информацию о пользователе
  * Бот предлагает пользователю указать свой город, ФИО, номер телефона
  * В дальнейшем пользователь получает рассылки
  * Так же есть возможность получать уникальные QR-коды для доступа на мероприятия


## 3. Работа бота для администраторов\менеджеров
 * После запуска контейнеров необходимо перейти по {{base_url}}/admin/login
 * Указать логи пароль
 * В панели администратора можно создавать новых пользователей и редактировать существующих
 * Создание сообщений доступно пользователям с флагом Is Manager
 * Сообщения рекомендуется создавать через телеграм
 * Сообщение будет с пометкой is_template. Это указывает на то что сообщение не будет учавствовать в рассылке. Необходимо завершить настройку сообщения, например указать врем рассылки и снять флаг is_template
 * Менеджеры не получают сообщений из рассылки
 * Для повторной рассылки необходимо снять флаг is_sent у сообщения